(function(e){function t(t){for(var a,i,c=t[0],s=t[1],u=t[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);l&&l(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/teacup/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"05b2":function(e,t,n){"use strict";n("2441")},"09f5":function(e,t,n){"use strict";n("3965")},"0a3f":function(e,t,n){},1050:function(e,t,n){e.exports=n.p+"img/resirealistic4flat2.148c8685.jpg"},"10d9":function(e,t,n){},"16b9":function(e,t,n){},2441:function(e,t,n){},3224:function(e,t,n){},"33c3":function(e,t,n){"use strict";n("ec77")},3965:function(e,t,n){},"4a62":function(e,t,n){"use strict";n("0a3f")},"4bf3":function(e,t,n){e.exports=n.p+"media/11-Dark fantasy Studio-Forensic (seamless).361d7583.mp3"},5560:function(e,t,n){"use strict";n("ed67")},5612:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");n("10d9"),n("7c7c"),n("d027");function o(e,t,n,o,r,i){var c=Object(a["m"])("GameUI");return Object(a["g"])(),Object(a["c"])(c)}n("b0c0");var r=Object(a["s"])("data-v-547d3960");Object(a["i"])("data-v-547d3960");var i={id:"app","data-theme":"tea",class:"full-width full-height"},c={class:"titlebar"},s=Object(a["f"])("button",null,"boib",-1),u={class:"titlebar full-width"},l={class:"title-text"},d={class:"text-center"},f=Object(a["f"])("i",{class:"fas fa-ellipsis-v","aria-hidden":""},null,-1),h=Object(a["e"])(" More "),b={class:"menu full-height full-width"},p={class:"titlebar"},v={class:"title-text more"},m={key:0},g={key:1};Object(a["h"])();var y=r((function(e,t,n,o,y,O){var j=Object(a["m"])("ModalContent"),w=Object(a["m"])("Overlay"),k=Object(a["m"])("Drawer"),T=Object(a["m"])("Commander"),C=Object(a["m"])("Response"),M=Object(a["m"])("Scene"),x=Object(a["m"])("PushDrawer");return Object(a["g"])(),Object(a["c"])("div",i,[Object(a["f"])(w,{open:O.overlay,ref:"overlayEl",onTaboverlay:t[1]||(t[1]=function(e){return O.handleTab(e,O.overlayElFocusables)}),onEscapeoverlay:t[2]||(t[2]=function(e){return O.toggleOverlay(!1)})},{default:r((function(){return[Object(a["f"])(j)]})),_:1},8,["open"]),Object(a["f"])(k,{open:O.menu,onClickoverlay:t[4]||(t[4]=function(e){return O.toggleMenu()}),onEscapedrawer:t[5]||(t[5]=function(e){return O.toggleMenu()}),onTabdrawer:t[6]||(t[6]=function(e){return O.handleTab(e,O.menuFocusables)}),ref:"menuEl"},{default:r((function(){return[Object(a["f"])("div",null,[Object(a["f"])("div",c,[Object(a["f"])("button",{onClick:t[3]||(t[3]=function(){return O.toggleMenu&&O.toggleMenu.apply(O,arguments)}),class:"button"},"Menu")]),s])]})),_:1},8,["open"]),Object(a["f"])(x,{open:O.more},{left:r((function(){return[Object(a["f"])(M,{view:O.view,onClick:O.clickActionButton},{commander:r((function(){return[Object(a["f"])(T,{onToggleview:t[9]||(t[9]=function(e){return O.toggleView()})},{default:r((function(){return[Object(a["f"])("button",{ref:"toggleMoreEl",class:"button",onClick:t[8]||(t[8]=function(){return O.toggleMore&&O.toggleMore.apply(O,arguments)})},[f,h],512)]})),_:1})]})),response:r((function(){return[Object(a["f"])(C,{response:O.response},null,8,["response"])]})),default:r((function(){return[Object(a["f"])("div",u,[Object(a["f"])("button",{onClick:t[7]||(t[7]=function(){return O.toggleMenu&&O.toggleMenu.apply(O,arguments)}),class:"button"},"Menu"),Object(a["f"])("div",l,[Object(a["f"])("h1",d,Object(a["n"])(e.game.location.name),1)])])]})),_:1},8,["view","onClick"])]})),right:r((function(){return[Object(a["f"])("div",b,[Object(a["f"])("div",p,[Object(a["f"])("div",v,[Object(a["f"])("button",{class:"button","aria-pressed":O.inventoryOn,onClick:t[10]||(t[10]=function(e){return O.setMoreOn("inventory")})}," Inventory ",8,["aria-pressed"]),Object(a["f"])("button",{class:"button","aria-pressed":O.locationsOn,onClick:t[11]||(t[11]=function(e){return O.setMoreOn("locations")})}," Locations ",8,["aria-pressed"])]),Object(a["f"])("button",{ref:"closeMoreEl",onClick:t[12]||(t[12]=function(){return O.toggleMore&&O.toggleMore.apply(O,arguments)}),class:"button icon"}," X ",512)]),O.locationsOn?(Object(a["g"])(),Object(a["c"])("div",m,[Object(a["f"])("ul",null,[(Object(a["g"])(!0),Object(a["c"])(a["a"],null,Object(a["k"])(e.game.locations,(function(e){return Object(a["g"])(),Object(a["c"])("li",{key:e.key},Object(a["n"])(e.name),1)})),128))])])):Object(a["d"])("",!0),O.inventoryOn?(Object(a["g"])(),Object(a["c"])("div",g,[Object(a["f"])("ul",null,[(Object(a["g"])(!0),Object(a["c"])(a["a"],null,Object(a["k"])(e.game.player.things,(function(e){return Object(a["g"])(),Object(a["c"])("li",{key:e.key},Object(a["n"])(e.name),1)})),128))])])):Object(a["d"])("",!0)])]})),_:1},8,["open"])])})),O=(n("99af"),n("a15b"),n("d81d"),n("b64b"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("2909")),j=n("5530"),w=n("d4ec"),k=n("bee2"),T=(n("7db0"),function(){function e(){Object(w["a"])(this,e),this.activeLocationKey=null,this.playerCharacterKey=null,this.locations=[],this.characters=[],this.lexicon={}}return Object(k["a"])(e,[{key:"setLexicon",value:function(e){return this.lexicon=Object(j["a"])({},e),this}},{key:"setPlayer",value:function(e){var t=this.getCharacter({key:e});if(!t)throw Error("Character not found.");this.playerCharacterKey=t.key}},{key:"setLocation",value:function(e){var t=this.getLocation(e);if(!t)throw Error("Location not found.");this.activeLocationKey=t.key}},{key:"addLocation",value:function(e){e.world=this,this.locations.push(e),this.activeLocationKey||1!==this.locations.length||(this.activeLocationKey=e.key)}},{key:"getLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeLocationKey,t=this.locations.find((function(t){return t.key===e}));return t}},{key:"addCharacter",value:function(e){e.world=this,this.characters.push(e),this.playerCharacterKey||1!==this.characters.length||(this.playerCharacterKey=e.key)}},{key:"getCharacter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.playerCharacterKey,t=this.characters.find((function(t){return t.key===e}));return t}},{key:"command",value:function(e,t){var n=this.getLocation(),a=n.tryAnd(e,t||this.lexicon),o=this.getCharacter(),r=o.tryAnd(e,t||this.lexicon);return{lAttempt:a,pAttempt:r}}},{key:"player",get:function(){return this.getCharacter()}},{key:"location",get:function(){return this.getLocation()}}]),e}()),C=T,M=(n("4de4"),n("caad"),n("2532"),n("4c53"),n("466d"),n("f98a"));function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.toLowerCase().replace(/\.+$/,""),a=Object(M["a"])(n,t).normalize({verbs:!0}).match("(#Verb|#Noun) .?+"),o=a.clone().splitAfter("#Noun").out("array"),r=o.find((function(e){return!e.includes("use")}))||o[0],i=o.length>1?o.find((function(e){return e!==r})):"",c=Object(M["a"])(r,t).match("#Adjective?+ #Noun").first().text(),s=Object(M["a"])(i,t).match("#Adjective?+ #Noun").first().text(),u=a.verbs().out("array"),l=a.nouns().out("array"),d=u.find((function(e){return!e.includes("use")}))||u[0]||"",f=a.text(),h=Object(M["a"])(n,t).normalize({verbs:!0}).json().map((function(e){return e.text})),b={json:a.json(),parts:o,action:d,actOn:c,actWith:s,text:f,verbs:u,nouns:l,terms:h,original:n};return b}var L=x,K=function(){return{details:{default:"There is nothing remarkable about the [name]"},descriptions:{default:"It's a [name]! Better describe it!"}}},A={examine:function(e){var t=e.me;return t.sub(t.p.details[t.stateKey]||t.p.details.default)},describe:function(e){var t=e.me;return t.sub(t.p.descriptions[t.stateKey]||t.p.descriptions.default)},help:function(e){var t=e.me;return"The following actions can be used on the ".concat(t.name,": ").concat(t.sub("[actions]"))}},E={empty:function(){return"Please enter something"},noThingSimple:function(e){var t=e.me,n=e.data;return"There is no '".concat(n.actOn||n.noun,"' in the ").concat(t.name,".")},noAction:function(e){var t=e.me,n=e.data;return t.sub("The '".concat(n.action,"' action is not available for the [name]."))},noNoun:function(){return"Commands should have at least a single noun."},multiMatch:function(e){var t=e.data;return"There is more than one '".concat(t.noun,"' available, please specify which: ").concat(t.things.map((function(e){return"'".concat(e.name,"'")})).join(", "),".")}},$={"[name]":function(e){var t=e.me;return t.name},"[noun]":function(e){var t=e.me;return t.noun},"[fullname]":function(e){var t=e.me;return t.fullname},"[actions]":function(e){var t=e.me;return t.actionList.join(", ").replace(/, ([^,]*)$/," and $1")}},_=function(){function e(t){var n=t.key,a=void 0===n?null:n,o=t.noun,r=void 0===o?"":o,i=t.fullname,c=void 0===i?null:i,s=t.props,u=void 0===s?{}:s,l=t.actions,d=void 0===l?{}:l,f=t.things,h=void 0===f?[]:f,b=t.stateKey,p=void 0===b?"default":b,v=t.subs,m=void 0===v?{}:v,g=t.errs,y=void 0===g?{}:g,k=t.world,T=void 0!==k&&k,C=t.parent,M=void 0!==C&&C;Object(w["a"])(this,e),this.key=a||c||r,this.noun=r,this.fullname=c,this.props=Object(j["a"])(Object(j["a"])({},K()),u),this.actions=Object(j["a"])(Object(j["a"])({},A),d),this.things=Object(O["a"])(h),this.stateKey=p,this.errs=Object(j["a"])(Object(j["a"])({},E),{},{errs:y}),this.subs=Object(j["a"])(Object(j["a"])({},$),m),this.world=T,this.parent=M}return Object(k["a"])(e,[{key:"sub",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.subs;return"string"!==typeof e?null:(Object.keys(n).map((function(a){return e=e.replace(a,n[a]({me:t}))})),e)}},{key:"removeThing",value:function(e){var t=this.findThing(e);return t&&(this.things=this.things.filter((function(t){return t.key!==e}))),t}},{key:"addThing",value:function(t){return t instanceof e===!1?null:(t.parent=this,t.world=this.world,this.things.push(t),this)}},{key:"findThing",value:function(e){return this.things.find((function(t){return t.key===e}))}},{key:"findThings",value:function(e){var t=[].concat(Object(O["a"])(this.things),[this]).filter((function(t){return[t.fullname,t.noun,t.key].includes(e)}));return t}},{key:"getThings",value:function(){return this.things}},{key:"addAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.actions[e]=t}},{key:"getAction",value:function(e){return this.actions[e]}},{key:"callAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.actions[e];if(!n)return this.errs.noAction({data:{action:e}});if("function"!==typeof n)return n;var a=n({me:this,data:t});return a}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return L(e,t)}},{key:"tryAnd",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var a=this.parse(e,n),o=a.nouns,r=a.action,i=a.actOn,c=a.actWith,s=a.terms,u="empty",l=function(){return"unknown"};s&&1===s.length&&(u="single"),i&&r&&!c&&(u="simple"),i&&r&&c&&(u="complex");var d=!!i&&this.findThings(i),f=!!c&&this.findThings(c),h=!!r&&this.findThings(r);if("empty"===u&&(u="error",l=function(){return t.errs.empty()}),"single"===u){var b=s[0],p=this.getAction(b);l=function(){return t.errs.noAction(t,{action:b})},p&&(l=function(){return t.callAction(b)})}return"simple"===u&&(d&&0===d.length&&(u="error",l=function(){return t.errs.noThingSimple({me:t,data:{noun:o[0],actOn:i}})}),d&&d.length>1&&(u="error",l=function(){return t.errs.multiMatch({me:t,data:{noun:o[0],things:d}})}),d&&1===d.length&&(l=function(){return d[0].callAction(r)})),Object(j["a"])({res:l,type:u,actOnThings:d,actWithThings:f,act:h},a)}}},{key:"name",get:function(){return this.fullname||this.noun||this.key}},{key:"actionList",get:function(){return Object(O["a"])(Object.keys(this.actions))}},{key:"thingList",get:function(){return this.things.map((function(e){return e.name}))}},{key:"p",get:function(){return this.props}},{key:"a",get:function(){return this.actions}},{key:"description",get:function(){return this.sub(this.props.descriptions[this.stateKey])}},{key:"detail",get:function(){return this.sub(this.props.details[this.stateKey])}}]),e}(),F=_,S=function(e){var t=new F({key:"player",noun:"player",world:e}),n=new F({key:"office-key",noun:"metal key"});return t.addThing(n),t},I=new F({noun:"bin"});I.p.descriptions.default="An aged, red-wire waste paper [name] overflowing with paper sits under the desk.";n("a4d3"),n("e01a");var D=function(e,t){var n=t.key,a=t.noun,o=t.fullname,r=t.description,i=t.detail,c=t.goToKey,s=t.actionWords,u=void 0===s?["open"]:s,l=new F({key:n,noun:a,fullname:o});return l.p.descriptions.default=r,l.p.details.default=i,u.map((function(t){l.addAction(t,(function(){var t=e.getLocation(c);return console.log({goToKey:c,location:t,world:e}),t?(e.setLocation(t.key),console.log({world:e}),l.sub("Moved to ".concat(t.name))):"Unknown location"}))})),l},B=function(e){var t=new F({noun:"office",fullname:"small office",world:e});t.p.descriptions.default="The [name] is small but sparse, populated only with a set of old, cluttered shelves, a thread-bare computer chair, a nondescript desk with drawers and a waste paper bin. The room itself is dimly illuminated with by sick combination of blue monitor light and a buzzing fluorescent from an old tube light mounted above the desk.",t.addThing(I);var n=D(e,{noun:"door",fullname:"metal door",description:"There is an old [name] with a worn handle.",detail:"It should be easy to open the [name].",goToKey:"hallway"});return t.addThing(n),t},P=function(e){var t=new F({noun:"hallway",world:e});t.p.descriptions.default="The [name] is in ruins. Fallen ceiling tiles rest on the ground near what appears to be blood stains and what appears to be something like claw gouges in the checkered floor. A light orange emergency light above the stains illuminates a simple potted plant that acts as a memorial for whatever atrocity occurred there. The walls are scarred and pockmarked both with age and possible combat. Down three steps is a dead-end, cracked walls, rubble and a fallen ceiling clustered together sealing away whatever secrets lay beyond. In the other direction is a stark pale light leading on and giant bloody claw rents across a pale grey wall of the path it leads to.  ";var n=D(e,{noun:"door",fullname:"metal door",description:"There is an old [name] with a worn handle.",detail:"It should be easy to open the [name].",goToKey:"small office"});t.addThing(n);var a=D(e,{noun:"corner",description:"A bright white light can be seen shining from around the [name].",detail:"The light is clinically white, and seems at odds with the dingy lighting everywhere else.",goToKey:"small office",actionWords:["round","use","turn"]});return t.addThing(a),t},V=(new C).setLexicon({open:"Verb",round:"Verb",use:"Verb"});V.addCharacter(S(V)),V.addLocation(B(V)),V.addLocation(P(V));var q=V,H=n("1e5c"),R=function(){function e(t){Object(w["a"])(this,e);var n={volume:1,preload:!0,autoplay:!1,muted:!1,rate:1};this.options=Object(j["a"])(Object(j["a"])({},n),{},{options:t}),this.tracks={}}return Object(k["a"])(e,[{key:"addTrack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.tracks[e]=new H["Howl"](Object(j["a"])(Object(j["a"])({},this.options),t)),this}},{key:"getTrack",value:function(e){return this.tracks[e]}},{key:"play",value:function(e){var t=this.getTrack(e);t&&t.play()}},{key:"updateTracks",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.keys(this.tracks),a=Object.keys(Object(j["a"])(Object(j["a"])({},this.options),t));n.map((function(n){var o=e.tracks[n];a.map((function(e){return o[e]=t[e]}))}))}},{key:"setVolume",value:function(e){this.volume=e,this.updateTracks({volume:e})}}]),e}(),N=new R;N.addTrack("dark",{volume:.2,src:n("4bf3")});var U={debug:!0,game:Object(a["j"])(q),state:Object(a["j"])({overlayKey:"start:one",response:"Command responses will display here when submitted.",more:!1,view:!0,menu:!1,overlay:!0,triggerEl:null}),atmospheres:N,scenes:{"small office":{bg:n("6290"),atmosphere:"dark"},hallway:{bg:n("1050"),atmosphere:!1}},playAtmosphere:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.game.activeLocationKey,t=this.scenes[e];t.atmosphere&&this.atmospheres.play(t.atmosphere)},getLocation:function(e){return this.game.getLocation(e||this.game.activeLocationKey)},getCharacter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.game.playerCharacterKey;return this.game.getCharacter(e)},getLocations:function(){return this.game.locations},getInventory:function(){var e=this.getCharacter("player");return e?e.things:[]},actionButton:function(e){var t=e.key,n=e.noun,a=e.name,o=void 0!==a&&a,r=e.action,i=void 0===r?"help":r,c=e.label,s=void 0!==c&&c;return'<button class="button small" data-key="'.concat(t,'" data-noun="').concat(n,'" data-name="').concat(o,'" data-action="').concat(i,'">\n    ').concat(s||o,"\n    </button>")},singleCommand:function(e){var t=e.original;"view"===t.toLowerCase()&&(this.state.view=!this.state.view),"menu"===t.toLowerCase()&&(this.state.menu=!this.state.menu),"more"===t.toLowerCase()&&(this.state.more=!this.state.more),"clear"===t.toLowerCase()&&(this.state.response="")},replaceActions:function(e){var t=this,n=e.res,a=e.actOnThings,o=a[0],r=o.key,i=o.noun,c=o.name,s=o.actionList,u=n();return 1===a.length&&s.map((function(e){var n=new RegExp("\\b"+e+"\\b");u=u.replace(n,t.actionButton({key:r,noun:i,name:c,action:e,label:e}))})),u},replaceThings:function(e){var t=this,n=e.res,a=e.actOnThings,o=n();return a.map((function(e){o=o.replace(e.name,t.actionButton({key:e.key,noun:e.noun,name:e.name,action:"help"}))})),o},command:function(e){var t=this.getLocation(),n=this.game.command(e),a=n.lAttempt,o=n.pAttempt;if(!e&&!a&&!o)return null;var r=a.actOnThings,i=o.actOnThings;if("single"===a.type)return this.singleCommand(a);if(r.length>0&&i.length>0){var c=[].concat(Object(O["a"])(r),Object(O["a"])(i));return this.state.response=this.replaceThings({res:function(){return"There is more than one '".concat(r[0].noun,"' available in the ").concat(t.name," and inventory, please specify; ").concat(c.map((function(e){return e.name})).join(", "),".")},actOnThings:c})}return 1===r.length&&0===i.length?this.state.response=this.replaceActions(a):1===i.length&&0===r.length?this.state.response=this.replaceActions(o):this.state.response=this.replaceThings(a)}},W=U,z=Object(a["s"])("data-v-089393f5");Object(a["i"])("data-v-089393f5");var G={class:"inner",ref:"root"};Object(a["h"])();var J=z((function(e,t,n,o,r,i){return Object(a["g"])(),Object(a["c"])(a["a"],null,[Object(a["f"])("div",{onKeydown:[t[1]||(t[1]=Object(a["q"])((function(t){return e.$emit("escapedrawer",t)}),["esc"])),t[2]||(t[2]=Object(a["q"])((function(t){return e.$emit("tabdrawer",t)}),["tab"]))],class:"drawer","data-open":n.open,"data-position":n.position},[Object(a["f"])("div",G,[Object(a["l"])(e.$slots,"default")],512)],40,["data-open","data-position"]),Object(a["f"])("div",{onClick:t[3]||(t[3]=function(t){return e.$emit("clickoverlay",t)}),onKeydown:t[4]||(t[4]=Object(a["q"])((function(t){return e.$emit("escapedrawer",t)}),["esc"])),"data-overlay":n.overlay,"data-open":n.open,class:"overlay","aria-hidden":"true",role:"presentation"},null,40,["data-overlay","data-open"])],64)})),X=(n("fb6a"),{name:"Drawer",emits:["escapedrawer","clickoverlay","tabdrawer"],computed:{},props:{open:{type:Boolean,default:!1},position:{type:String,default:"left"},overlay:{type:Boolean,default:!0}},data:function(){return{}},methods:{getFocusables:function(){var e=this.$refs.root.querySelectorAll("a, input, button, textarea, [tabindex='0'], [contenteditable='true']");return Object(O["a"])([].slice.call(e))},checkTab:function(e){var t=e.explicitOriginalTarget,n=this.getFocusables();if(0!==n.length){var a=n[0],o=n[n.length-1],r=t===o&&!e.shiftKey,i=t===a&&e.shiftKey;(i||r)&&e.preventDefault(),r&&a.focus(),i&&o.focus()}}}});n("913e");X.render=J,X.__scopeId="data-v-089393f5";var Q=X,Y={class:"left-pane"},Z={class:"inner"},ee={class:"right-pane"};function te(e,t,n,o,r,i){return Object(a["g"])(),Object(a["c"])("div",{"data-transition":n.transition,"data-open":n.open,"data-position":n.position,class:"layout"},[Object(a["f"])("div",Y,[Object(a["f"])("div",Z,[Object(a["l"])(e.$slots,"left"),Object(a["l"])(e.$slots,"default")])]),Object(a["f"])("div",ee,[Object(a["l"])(e.$slots,"right")])],8,["data-transition","data-open","data-position"])}var ne={name:"PushDrawer",props:{position:{type:String,default:"right"},open:{type:Boolean,default:!1},transition:{type:Boolean,default:!0}},data:function(){return{}}};n("09f5");ne.render=te;var ae=ne,oe=Object(a["s"])("data-v-484ca500");Object(a["i"])("data-v-484ca500");var re=Object(a["f"])("div",{class:"outer","aria-hidden":"true",role:"presentation"},null,-1),ie={class:"content"};Object(a["h"])();var ce=oe((function(e,t,n,o,r,i){return Object(a["g"])(),Object(a["c"])("div",{ref:"root",role:"dialog","data-open":n.open},[re,Object(a["f"])("div",{tabindex:"0",class:"inner",onKeydown:[t[1]||(t[1]=Object(a["q"])((function(t){return e.$emit("taboverlay",t)}),["tab"])),t[2]||(t[2]=Object(a["q"])((function(t){return e.$emit("escapeoverlay",t)}),["esc"]))]},[Object(a["f"])("div",null,[Object(a["f"])("div",ie,[Object(a["l"])(e.$slots,"default")])])],32)],8,["data-open"])})),se={name:"Overlay",props:["open"],emits:["escapeoverlay","taboverlay"],methods:{getFocusables:function(){var e=this.$refs.root.querySelectorAll("a, input, button, textarea, [tabindex='0'], [contenteditable='true']");return Object(O["a"])([].slice.call(e))}}};n("5793");se.render=ce,se.__scopeId="data-v-484ca500";var ue=se,le=Object(a["s"])("data-v-1bcec19d");Object(a["i"])("data-v-1bcec19d");var de={class:"description"},fe={class:"corpus box"},he={class:"items box"},be={class:"unstyled"},pe={class:"commander"},ve={class:"box"},me={class:"response"},ge={class:"box"};Object(a["h"])();var ye=le((function(e,t,n,o,r,i){var c=Object(a["m"])("Description");return Object(a["g"])(),Object(a["c"])("div",{"data-view":n.view,class:"scene"},[Object(a["l"])(e.$slots,"default"),Object(a["f"])("div",de,[Object(a["f"])("div",{class:"bg",ref:"bg",role:"presentation","aria-hidden":"",style:{backgroundImage:"url(".concat(e.scenes[e.game.activeLocationKey].bg,")")}},null,4),Object(a["f"])("div",fe,Object(a["n"])(e.game.location.description),1),Object(a["f"])("div",he,[Object(a["f"])("ul",be,[(Object(a["g"])(!0),Object(a["c"])(a["a"],null,Object(a["k"])(e.game.location.things,(function(e){return Object(a["g"])(),Object(a["c"])("li",{key:e.key},[Object(a["f"])(c,{thing:e},null,8,["thing"])])})),128))])])]),Object(a["f"])("div",pe,[Object(a["f"])("div",ve,[Object(a["l"])(e.$slots,"commander")])]),Object(a["f"])("div",me,[Object(a["f"])("div",ge,[Object(a["l"])(e.$slots,"response")])])],8,["data-view"])})),Oe=Object(a["s"])("data-v-72e8c724"),je=Oe((function(e,t,n,o,r,i){return Object(a["g"])(),Object(a["c"])("div",{innerHTML:i.rawHtml},null,8,["innerHTML"])})),we={name:"Description",props:["thing"],computed:{rawHtml:function(){var e=this.thing.callAction("describe"),t=W.actionButton({name:this.thing.name,noun:this.thing.noun,key:this.thing.key});return e=e.replace(this.thing.name,t),e}},data:function(){return{}}};n("05b2");we.render=je,we.__scopeId="data-v-72e8c724";var ke=we,Te={name:"Scene",components:{Description:ke},props:{view:{type:Boolean,default:!0}},data:function(){return{scenes:W.scenes,game:W.game}},mounted:function(){W.playAtmosphere()}};n("5560");Te.render=ye,Te.__scopeId="data-v-1bcec19d";var Ce=Te,Me={class:"cmd-controls"},xe=Object(a["f"])("button",{class:"button",type:"submit"},"Submit",-1),Le={class:"controls"};function Ke(e,t,n,o,r,i){return Object(a["g"])(),Object(a["c"])("form",{onSubmit:t[4]||(t[4]=Object(a["r"])((function(){return i.cmd&&i.cmd.apply(i,arguments)}),["prevent"])),class:"commander"},[Object(a["f"])("div",Me,[Object(a["p"])(Object(a["f"])("input",{autocomplete:"on",class:"input",onKeyup:t[1]||(t[1]=Object(a["q"])(Object(a["r"])((function(){return i.clearResponse&&i.clearResponse.apply(i,arguments)}),["ctrl"]),["c"])),"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.inputCommand=t}),id:"cmd",type:"text","aria-label":"command"},null,544),[[a["o"],e.inputCommand]]),xe]),Object(a["f"])("div",Le,[Object(a["f"])("button",{onClick:t[3]||(t[3]=function(t){return e.$emit("toggleview",e.e)}),role:"presentation",class:"button icon-button desc"}," View "),Object(a["l"])(e.$slots,"default")])],32)}var Ae={name:"Commander",emits:["command","toggleview"],props:{},computed:{},data:function(){return{inputCommand:""}},methods:{cmd:function(){W.command(this.inputCommand),this.inputCommand=""},clearResponse:function(){W.state.response=""}}};n("4a62");Ae.render=Ke;var Ee=Ae,$e=Object(a["s"])("data-v-0da8b47a"),_e=$e((function(e,t,n,o,r,i){return Object(a["g"])(),Object(a["c"])("div",{class:"response","aria-live":"assertive","aria-atomic":"true",innerHTML:n.response},null,8,["innerHTML"])})),Fe={name:"Response",props:["response"]};n("93e8");Fe.render=_e,Fe.__scopeId="data-v-0da8b47a";var Se=Fe,Ie={class:"titlebar full-width"},De=Object(a["f"])("div",{class:"title-text"},[Object(a["f"])("h1",{class:"text-center"},"Modal")],-1),Be={key:0},Pe={key:1};function Ve(e,t,n,o,r,i){return Object(a["g"])(),Object(a["c"])("div",null,[Object(a["f"])("div",Ie,[De,Object(a["f"])("button",{onClick:t[1]||(t[1]=function(e){return i.closeOverlay()}),class:"button","aria-label":"close"}," X ")]),"start:one"===e.s.overlayKey?(Object(a["g"])(),Object(a["c"])("div",Be)):Object(a["d"])("",!0),"start:two"===e.s.overlayKey?(Object(a["g"])(),Object(a["c"])("div",Pe,"two")):Object(a["d"])("",!0)])}var qe={name:"OverlayContent",data:function(){return{s:W.state}},methods:{switchOverlayKey:function(e){W.state.overlayKey=e},closeOverlay:function(){W.state.overlay=!1}}};n("33c3");qe.render=Ve;var He=qe,Re={name:"GameUI",components:{PushDrawer:ae,Scene:Ce,Commander:Ee,Response:Se,Drawer:Q,Overlay:ue,ModalContent:He},props:[],computed:{view:function(){return W.state.view},more:function(){return W.state.more},menu:function(){return W.state.menu},overlay:function(){return W.state.overlay},triggerEl:function(){return W.state.triggerEl},menuFocusables:function(){return this.getFocusables("menuEl")},overlayElFocusables:function(){return console.log(this.getFocusables("overlayEl")),this.getFocusables("overlayEl")},response:function(){return W.state.response},inventoryOn:function(){return"inventory"===this.moreOn},locationsOn:function(){return"locations"===this.moreOn}},data:function(){return{moreOn:"inventory",game:W.game}},watch:{menu:function(e){this.handleFocus(e,this.menuFocusables[0]),W.state.response=e?"Menu opened.":"Menu closed"},more:function(e){this.handleFocus(e,this.$refs.closeMoreEl),W.state.response=e?"More drawer opened.":"More drawer closed"},overlay:function(e){this.handleFocus(e,this.$refs.overlayEl)},moreOn:function(e){W.state.response="More drawer set to ".concat(e)}},methods:{handleFocus:function(e,t){e&&(W.state.triggerEl=document.activeElement,t&&t.focus()),e||(W.state.triggerEl&&W.state.triggerEl.focus(),W.state.triggerEl=null)},toggleMore:function(){W.state.more=!W.state.more},setMoreOn:function(e){this.moreOn=e},toggleView:function(){W.state.view=!W.state.view},toggleMenu:function(){W.state.menu=!W.state.menu},toggleOverlay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;W.state.overlay=null!==e?e:!W.state.overlay},handleTab:function(e,t){console.log(t);var n=e.target,a=t[t.length-1],o=t[0],r=n===a&&!e.shiftKey,i=n===o&&e.shiftKey;(i||r)&&e.preventDefault(),r&&o.focus(),i&&a.focus()},getFocusables:function(e){return this.$refs[e].getFocusables()},clickActionButton:function(e){var t=e.target,n=t.getAttribute("data-name"),a=t.getAttribute("data-action");n&&a&&W.command("".concat(a," ").concat(n))}},mounted:function(){var e=this.$refs.overlayEl.getFocusables();e&&e.length>0&&this.handleFocus(W.state.overlay,e[0])}};n("c242");Re.render=y,Re.__scopeId="data-v-547d3960";var Ne=Re,Ue={name:"App",components:{GameUI:Ne}};n("e467");Ue.render=o;var We=Ue;Object(a["b"])(We).mount("#app")},5793:function(e,t,n){"use strict";n("5612")},6290:function(e,t,n){e.exports=n.p+"img/jordan-grimmer-office2.d6df4a43.jpg"},"7c7c":function(e,t,n){},"913e":function(e,t,n){"use strict";n("abbc")},"93e8":function(e,t,n){"use strict";n("16b9")},a668:function(e,t,n){},abbc:function(e,t,n){},c242:function(e,t,n){"use strict";n("3224")},d027:function(e,t,n){},e467:function(e,t,n){"use strict";n("a668")},ec77:function(e,t,n){},ed67:function(e,t,n){}});
//# sourceMappingURL=app.cd408dc4.js.map